// jQuery Mask Plugin v1.7.0
// github.com/igorescobar/jQuery-Mask-Plugin
(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):g(window.jQuery||window.Zepto)})(function(g){var x=function(a,e,d){var h=this,m,p;a=g(a);e="function"===typeof e?e(a.val(),void 0,a,d):e;h.init=function(){d=d||{};h.byPassKeys=[9,16,17,18,36,37,38,39,40,91];h.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};h.translation=g.extend({},h.translation,d.translation);h=g.extend(!0,{},h,d);p=
c.getRegexMask();a.each(function(){!1!==d.maxlength&&a.attr("maxlength",e.length);d.placeholder&&a.attr("placeholder",d.placeholder);a.attr("autocomplete","off");c.destroyEvents();c.events();var b=c.getCaret();c.val(c.getMasked());c.setCaret(b+c.getMaskCharactersBeforeCount(b,!0))})};var c={getCaret:function(){try{var b,n=0,c=a.get(0),f=document.selection,e=c.selectionStart;if(f&&!~navigator.appVersion.indexOf("MSIE 10"))b=f.createRange(),b.moveStart("character",a.is("input")?-a.val().length:-a.text().length),
n=b.text.length;else if(e||"0"===e)n=e;return n}catch(d){}},setCaret:function(b){try{if(a.is(":focus")){var n,c=a.get(0);c.setSelectionRange?c.setSelectionRange(b,b):c.createTextRange&&(n=c.createTextRange(),n.collapse(!0),n.moveEnd("character",b),n.moveStart("character",b),n.select())}}catch(f){}},events:function(){a.on("keydown.mask",function(){m=c.val()});a.on("keyup.mask",c.behaviour);a.on("paste.mask drop.mask",function(){setTimeout(function(){a.keydown().keyup()},100)});a.on("change.mask",function(){a.data("changeCalled",
!0)});a.on("blur.mask",function(b){b=g(b.target);b.prop("defaultValue")!==b.val()&&(b.prop("defaultValue",b.val()),b.data("changeCalled")||b.trigger("change"));b.data("changeCalled",!1)});a.on("focusout.mask",function(){d.clearIfNotMatch&&!p.test(c.val())&&c.val("")})},getRegexMask:function(){for(var b=[],a,c,f,d,k=0;k<e.length;k++)(a=h.translation[e[k]])?(c=a.pattern.toString().replace(/.{1}$|^.{1}/g,""),f=a.optional,(a=a.recursive)?(b.push(e[k]),d={digit:e[k],pattern:c}):b.push(f||a?c+"?":c)):b.push("\\"+
e[k]);b=b.join("");d&&(b=b.replace(RegExp("("+d.digit+"(.*"+d.digit+")?)"),"($1)?").replace(RegExp(d.digit,"g"),d.pattern));return RegExp(b)},destroyEvents:function(){a.off("keydown keyup paste drop change blur focusout DOMNodeInserted ".split(" ").join(".mask ")).removeData("changeCalled")},val:function(b){var c=a.is("input");return 0<arguments.length?c?a.val(b):a.text(b):c?a.val():a.text()},getMaskCharactersBeforeCount:function(b,a){for(var c=0,f=0,d=e.length;f<d&&f<b;f++)h.translation[e.charAt(f)]||
(b=a?b+1:b,c++);return c},determineCaretPos:function(b,a,d,f){return h.translation[e.charAt(Math.min(b-1,e.length-1))]?Math.min(b+d-a-f,d):c.determineCaretPos(b+1,a,d,f)},behaviour:function(b){b=b||window.event;var a=b.keyCode||b.which;if(-1===g.inArray(a,h.byPassKeys)){var d=c.getCaret(),f=c.val(),e=f.length,k=d<e,q=c.getMasked(),l=q.length,m=c.getMaskCharactersBeforeCount(l-1)-c.getMaskCharactersBeforeCount(e-1);q!==f&&c.val(q);!k||65===a&&b.ctrlKey||(8!==a&&46!==a&&(d=c.determineCaretPos(d,e,l,
m)),c.setCaret(d));return c.callbacks(b)}},getMasked:function(b){var a=[],g=c.val(),f=0,m=e.length,k=0,q=g.length,l=1,p="push",s=-1,r,u;d.reverse?(p="unshift",l=-1,r=0,f=m-1,k=q-1,u=function(){return-1<f&&-1<k}):(r=m-1,u=function(){return f<m&&k<q});for(;u();){var v=e.charAt(f),w=g.charAt(k),t=h.translation[v];if(t)w.match(t.pattern)?(a[p](w),t.recursive&&(-1===s?s=f:f===r&&(f=s-l),r===s&&(f-=l)),f+=l):t.optional&&(f+=l,k-=l),k+=l;else{if(!b)a[p](v);w===v&&(k+=l);f+=l}}b=e.charAt(r);m!==q+1||h.translation[b]||
a.push(b);return a.join("")},callbacks:function(b){var g=c.val(),h=c.val()!==m;if(!0===h&&"function"===typeof d.onChange)d.onChange(g,b,a,d);if(!0===h&&"function"===typeof d.onKeyPress)d.onKeyPress(g,b,a,d);if("function"===typeof d.onComplete&&g.length===e.length)d.onComplete(g,b,a,d)}};h.remove=function(){c.destroyEvents();c.val(h.getCleanVal()).removeAttr("maxlength");c.setCaret(c.getCaret()-c.getMaskCharactersBeforeCount(caret));c.removeData("mask")};h.getCleanVal=function(){return c.getMasked(!0)};
h.init()},m=function(){var a=g(this),e={};"true"===a.attr("data-mask-reverse")&&(e.reverse=!0);"false"===a.attr("data-mask-maxlength")&&(e.maxlength=!1);"true"===a.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0);a.mask(a.attr("data-mask"),e)},p={};g.fn.mask=function(a,e){this.unmask();var d=this.selector,h=function(){g(this).data("mask",new x(this,a,e))};d&&!p[d]&&(p[d]=!0,setTimeout(function(){g(document).on("DOMNodeInserted.mask",d,h)},500));return this.each(h)};g.fn.unmask=function(){return this.each(function(){try{g(this).data("mask").remove()}catch(a){}})};
g.fn.cleanVal=function(){return g(this).data("mask").getCleanVal()};g("*[data-mask]").each(m);g(document).on("DOMNodeInserted.mask","*[data-mask]",m)});