// jQuery Mask Plugin v0.11.1
// github.com/igorescobar/jQuery-Mask-Plugin
(function(l){var m=function(g,h,k){var a=this;g=l(g);a.init=function(){k=k||{};a.byPassKeys=[8,9,37,38,39,40];a.maskChars={":":":","-":"-",".":"\\.","(":"\\(",")":"\\)","/":"/",",":",",_:"_"," ":"\\s","+":"\\+"};a.translationNumbers={0:"\\d",1:"\\d",2:"\\d",3:"\\d",4:"\\d",5:"\\d",6:"\\d",7:"\\d",8:"\\d",9:"\\d"};a.translation={A:"[a-zA-Z0-9]",S:"[a-zA-Z]"};a.translation=l.extend({},a.translation,a.translationNumbers);a=l.extend(!0,{},a,k);a.specialChars=l.extend({},a.maskChars,a.translation);h=d.resolveMask();
h=d.fixRangeMask(h);g.attr("maxlength",h.length).attr("autocomplete","off");d.destroyEvents();d.keyUp();d.paste()};var d={paste:function(){g.bind("paste",function(){setTimeout(function(){g.trigger("keyup")},100)})},keyUp:function(){g.keyup(d.maskBehaviour).trigger("keyup")},destroyEvents:function(){g.unbind()},resolveMask:function(){return"function"==typeof h?h(d.val(),k):h},val:function(c){var b="input"===g.get(0).tagName.toLowerCase();return 0<arguments.length?b?g.val(c):g.text(c):b?g.val():g.text()},
specialChar:function(c,b){return a.specialChars[c.charAt(b)]},maskChar:function(c,b){return a.maskChars[c.charAt(b)]},maskBehaviour:function(c){c=c||window.event;if(-1<l.inArray(c.keyCode||c.which,a.byPassKeys))return d.seekCallbacks(c,b);var b=d.applyMask(h);b!==d.val()&&d.val(b).trigger("change");return d.seekCallbacks(c,b)},applyMask:function(c){if(""!==d.val()){var b=function(c,a){for(;a<c.length;){if(void 0!==c[a])return!0;a++}return!1},f=function(a){a="string"===typeof a?a:a.join("");console.log(d.maskToRegex(c));
a=a.match(RegExp(d.maskToRegex(c)))||[];a.shift();return a},e=d.val();c=d.getMask(e,c);for(var e=k.reverse?d.removeMaskChars(e):e,a=f(e);a.join("").length<d.removeMaskChars(e).length;)a=a.join("").split(""),e=d.removeMaskChars(a.join("")+e.substring(a.length+1)),c=d.getMask(e,c),a=f(e);for(e=0;e<a.length;e++)if(f=d.specialChar(c,e),d.maskChar(c,e)&&b(a,e))a[e]=c.charAt(e);else if(f)if(void 0!==a[e]){if(null===a[e].match(RegExp(f)))break}else if(null==="".match(RegExp(f))){a=a.slice(0,e);break}return a.join("")}},
getMask:function(a){if(k.reverse){a=d.removeMaskChars(a);for(var b=0,f=0,e=0,b=h.length,f=b=1<=b?b:b-1;e<a.length;){for(;d.maskChar(h,f-1);)f--;f--;e++}f=1<=h.length?f:f-1;a=h.substring(b,f)}else a=h;return a},maskToRegex:function(a){for(var b,f=0,e="";f<a.length;f++)(b=d.specialChar(a,f))&&(e+="("+b+")?");return e},fixRangeMask:function(c){return c.replace(/([A-Z0-9])\{(\d+)?,([(\d+)])\}/g,function(){var b=arguments,c=[],e=a.translationNumbers[b[1]]?String.fromCharCode(parseInt("6"+b[1],16)):b[1].toLowerCase();
c[0]=b[1];c[1]=Array(b[2]-1+1).join(b[1]);c[2]=Array(b[3]-b[2]+1).join(e).toLowerCase();a.specialChars[e]=d.specialChar(b[1])+"?";return c.join("")})},removeMaskChars:function(c){l.each(a.maskChars,function(b,d){c=c.replace(RegExp("("+a.maskChars[b]+")?","g"),"")});return c},seekCallbacks:function(a,b){if(k.onKeyPress&&void 0===a.isTrigger&&"function"==typeof k.onKeyPress)k.onKeyPress(b,a,g,k);if(k.onComplete&&void 0===a.isTrigger&&b.length===h.length&&"function"==typeof k.onComplete)k.onComplete(b,
a,g,k)}};"boolean"===typeof QUNIT&&(a.p=d);a.remove=function(){d.destroyEvents();d.val(d.removeMaskChars(d.val())).removeAttr("maxlength")};a.getCleanVal=function(){return d.removeMaskChars(d.val())};a.init()};l.fn.mask=function(g,h){return this.each(function(){l(this).data("mask",new m(this,g,h))})};l("input[data-mask]").each(function(){l(this).mask(l(this).attr("data-mask"))})})(window.jQuery||window.Zepto);
